<ion-view view-title=''>
  <ion-content class="padding Home">
    <div class="card" ng-if="!Home.fetch.length">
      <div class="item item-divider">
      dropped fetches
      </div>
      <div class="item item-text-wrap">
        <div class="list">
          <ion-list>
            <ion-item ng-repeat="fetch in Home.fetches | filter: { dateClaimed: '!', dateClosed: '!' }" class="item item-text-wrap">
              <div ng-class="isItemShown(fetch) ? 'item-expand active' : 'item-expand inactive'">
                <h2>{{ fetch.item }}</h2>
                <p>date added: {{ fetch.dateRequested | date:'fullDate'  }}</p>
                <p>address: {{ fetch.address }}</p>
                <p>cost: $ {{ fetch.paymentAmount }}</p>
                <button class="button" ng-click="Home.showFetchPopup(fetch)">edit</button>
                <button class="button" ng-click="Home.showDeleteConfirm(fetch)">delete</button>
              </div>
              <div ng-click="toggleItem(fetch)" class="item-expand-footer">
                <i ng-class="isItemShown(fetch) ? 'ion-ios-minus-outline' : 'ion-ios-plus-outline'"></i>
                {{ isGroupShown(fetch) ? 'Less' : '' }}
              </div>
            </ion-item>
          </ion-list>
        </div>
      </div>
    </div>

    <div class="card" ng-if="!Home.fetch.length">
      <div class="item item-divider">
        have you received these fetches?
      </div>
      <div class="item item-text-wrap">
        <div class="list">
          <ion-list>
            <ion-item ng-repeat="fetch in Home.fetches | filter: { dateClosed: '!', dateClaimed:'' }" class="item item-text-wrap">
              <div ng-class="isItemShown(fetch) ? 'item-expand active' : 'item-expand inactive'">
                <h2>{{ fetch.item }}</h2>
                <p> requested: {{ fetch.dateRequested | date:'fullDate'  }}</p>
                <p> claimed: {{ fetch.dateClaimed | date:'fullDate'  }}</p>
                <p> address: {{ fetch.address }}</p>
                <p> cost: $ {{ fetch.paymentAmount }}</p>
                <button class="button" ng-click="Home.showClosed(fetch)">close</button>
              </div>
              <div ng-click="toggleItem(fetch)" class="item-expand-footer">
                <i ng-class="isItemShown(fetch) ? 'ion-ios-minus-outline' : 'ion-ios-plus-outline'"></i>
                {{ isGroupShown(fetch) ? 'Less' : '' }}
              </div>
            </ion-item>
          </ion-list>
        </div>
      </div>
    </div>

     <div class="list" ng-if="!Home.fetch.length">
        <div class="item item-divider">
          fetches you are retrieving
        </div>
        <div class="item item-text-wrap">
          <div class="list">
          <ion-list>
            <ion-item ng-repeat="userClaimedFetch in Home.userClaimedFetches | filter: { dateClosed: '!' }" class="item item-text-wrap">
              <div ng-class="isItemShown(userClaimedFetch) ? 'item-expand active' : 'item-expand inactive'">
                <h2>{{ userClaimedFetch.item }}</h2>
                <p> requested: {{ userClaimedFetch.dateRequested | date:'fullDate'  }}</p>
                <p> claimed: {{ userClaimedFetch.dateClaimed | date:'fullDate'  }}</p>
                <p> address: {{ userClaimedFetch.address }}</p>
                <p> cost: $ {{ userClaimedFetch.paymentAmount }}</p>
              </div>
              <div ng-click="toggleItem(userClaimedFetch)" class="item-expand-footer">
                <i ng-class="isItemShown(userClaimedFetch) ? 'ion-ios-minus-outline' : 'ion-ios-plus-outline'"></i>
                {{ isGroupShown(userClaimedFetch) ? 'Less' : '' }}
              </div>
            </ion-item>
          </ion-list>
        </div>
      </div>
    </div>


  </ion-content>
</ion-view>
